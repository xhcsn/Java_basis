# Java并发
## 1、什么是进程和线程
进程是程序的一次执行过程，是系统运行程序的基本单位；线程和进程类似，但是线程是一个比线程更小的执行单位。一个进程在其执行过程中可以产生多个线程。同类的多个线程共享进程的堆与方法区资源，但是每个线程拥有自己的程序计数器，虚拟机栈以及本地方法栈。因此线程被称为轻量级进程。

## 2、线程与进程的关系、区别及优缺点
一个进程中可以有多个线程，多个线程共享进程的堆与方法区资源，但是每个线程有自己的程序计数器、虚拟机栈和本地方法栈。

线程是进程划分成的更小的运行单位，线程和进程的最大的不同在于基本上各进程是独立的，而各线程则不一定，因为同一进程中的线程极有可能会互相影响。线程执行开销小，但是不利于资源的管理和维护；而进程正好相反。

## 3、程序计数器为什么是私有的
程序计数器主要有以下两个作用：
- 字节码解释器通过改变程序计数器来依次读取指令，从而实现代码的流程控制；
- 在多线程的情况下，程序计数器用于记录当前进程执行的位置，从而当线程被切换回来的时候就能够知道该线程上次运行到哪儿了。

注：如果执行native方法的话，程序计数器记录的是undefined地址，只有执行的是Java代码时程序计数器记录的才是下一条指令的地址。

因此程序计数器私有主要是为了线程切换后能够恢复到正确的执行位置。

## 4、虚拟机栈和本地方法栈为什么是私有的
- 虚拟机栈：每一个Java方法在执行的时候会同时创建一个栈帧用于存储局部变量表、操作数栈、常量池引用等信息。从方法调用直至执行完成的过程，就对应着一个栈帧在Java虚拟机栈中入栈和出栈的过程。
- 本地方法栈类似于虚拟机栈，为本地方法服务。

因此，虚拟机栈和本地方法栈私有是为了保证线程中的局部变量不被别的线程访问到。

## 5、并发和并行的区别
- 并发：在同一时间段，多个任务都在执行（单位时间内不一定同时执行）；
- 并行：在同一个时间点，多个任务都在进行

## 6、为什么要使用多线程以及使用多线程可能带来什么问题
使用多线程是为了提高CPU的利用率；使用多线程会造成内存泄漏、死锁、线程不安全等问题。
